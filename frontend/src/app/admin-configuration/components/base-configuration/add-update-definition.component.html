


<div class="modern-edit-wrapper">
  <div class="modern-edit-header card solid-header mb-4 px-4 py-4 d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center">
      <i class="fas fa-edit me-3 fs-2"></i>
      <div>
        <div class="modern-edit-title fs-2 fw-bold">Edit Definition</div>
        <div class="modern-edit-subtitle">Update an existing base definition</div>
      </div>
    </div>
    <button type="button" class="btn btn-light btn-back px-4" (click)="goBackToList()">
      <i class="fas fa-arrow-left me-2"></i> Back to List
    </button>
  </div>
  <div class="container-fluid">
    <form [formGroup]="form" (ngSubmit)="save()" class="definition-form">
      <div *ngIf="success" class="alert alert-success mt-2">{{ success }}</div>
      <div class="card content-card mb-4">
        <div class="card-header solid-section fw-bold d-flex align-items-center">
          <i class="fas fa-layer-group me-2"></i> <span>Definition Details</span>
        </div>
        <div class="card-body">
          <div class="row g-4 flex-column">
            <!-- Control Group Card -->
            <div class="col-12 mb-2">
              <div class="card content-card">
                <div class="card-header solid-section fw-bold d-flex align-items-center" style="cursor:pointer;">
                  <i class="fas fa-layer-group me-2"></i> <span>Control Group</span>
                </div>
                <div class="card-body">
                  <div [formGroup]="ctrlGroupForm" class="row g-4">
                    <div class="col-md-6">
                      <label for="ctrlgroupname" class="form-label">Group Name (Unique):</label>
                      <input id="ctrlgroupname" class="form-control" formControlName="ctrlgroupname">
                    </div>
                    <div class="col-md-6">
                      <label for="groupsequence" class="form-label">Group Sequence:</label>
                      <input id="groupsequence" class="form-control" formControlName="groupsequence">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Control Information Card -->
            <div class="col-12 mb-2">
              <div class="card content-card">
                <div class="card-header solid-section fw-bold d-flex align-items-center" style="cursor:pointer;">
                  <i class="fas fa-info-circle me-2"></i> <span>Control Information</span>
                </div>
                <div class="card-body">
                  <div [formGroup]="ctrlInfoForm" class="row g-4">
                    <div class="col-md-4">
                      <label for="ctrlname" class="form-label">Control Name (Unique):</label>
                      <input id="ctrlname" class="form-control" formControlName="ctrlname">
                    </div>Control Size:
                    <div class="col-md-4">
                      <label for="ctrltype" class="form-label">Control Type:</label>
                      <input id="ctrltype" class="form-control" formControlName="ctrltype">
                    </div>
                    <div class="col-md-4">
                      <label for="displayname" class="form-label">Control Display Name:</label>
                      <input id="displayname" class="form-control" formControlName="displayname">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Control Properties Card -->
            <div class="col-12 mb-2">
              <div class="card content-card">
                <div class="card-header solid-section fw-bold d-flex align-items-center" style="cursor:pointer;">
                  <i class="fas fa-sliders-h me-2"></i> <span>Control Properties</span>
                </div>
                <div class="card-body">
                  <div [formGroup]="ctrlPropertiesForm" class="row g-4">
                    <div class="col-md-4">
                      <label for="ctrlsize" class="form-label">Control Size:</label>
                      <input id="ctrlsize" class="form-control" formControlName="ctrlsize">
                    </div>
                    <div class="col-md-4">
                      <label for="ctrlwidth" class="form-label">Control Width:</label>
                      <input id="ctrlwidth" class="form-control" formControlName="ctrlwidth">
                    </div>
                    <div class="col-md-4">
                      <label for="ctrlheight" class="form-label">Control Height:</label>
                      <input id="ctrlheight" class="form-control" formControlName="ctrlheight">
                    </div>
                    <div class="col-md-4">
                      <label for="classname" class="form-label">ClassName:</label>
                      <input id="classname" class="form-control" formControlName="classname">
                    </div>
                    <div class="col-md-4">
                      <label for="cssstyle" class="form-label">CSS-Style:</label>
                      <input id="cssstyle" class="form-control" formControlName="cssstyle">
                    </div>
                    <div class="col-md-4">
                      <label for="tooltips" class="form-label">Tooltips:</label>
                      <input id="tooltips" class="form-control" formControlName="tooltips">
                    </div>
                    <div class="col-md-4">
                      <label for="placeholder" class="form-label">Placeholder:</label>
                      <input id="placeholder" class="form-control" formControlName="placeholder">
                    </div>
                    <div class="col-md-4">
                      <label for="isrequired" class="form-label">Is Required:</label>
                      <input id="isrequired" type="checkbox" class="form-check-input" formControlName="isrequired">
                    </div>
                    <div class="col-md-4">
                      <label for="defaultvalue" class="form-label">Default Value:</label>
                      <input id="defaultvalue" class="form-control" formControlName="defaultvalue">
                    </div>
                    <div class="col-md-4">
                      <label for="isvisible" class="form-label">Is Visible:</label>
                      <input id="isvisible" type="checkbox" class="form-check-input" formControlName="isvisible">
                    </div>
                    <div class="col-md-4">
                      <label for="isdisable" class="form-label">Is Disable:</label>
                      <input id="isdisable" type="checkbox" class="form-check-input" formControlName="isdisable">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Validation Card -->
            <div class="col-12 mb-2">
              <div class="card content-card">
                <div class="card-header solid-section fw-bold d-flex align-items-center" style="cursor:pointer;">
                  <i class="fas fa-check-circle me-2"></i> <span>Validation</span>
                </div>
                <div class="card-body">
                  <div [formGroup]="ctrlPropertiesForm" class="row g-4">
                    <div class="col-md-4">
                      <label for="decimalcount" class="form-label">Decimal Count:</label>
                      <input id="decimalcount" class="form-control" formControlName="decimalcount">
                    </div>
                    <div class="col-md-4">
                      <label for="minlength" class="form-label">Min Length:</label>
                      <input id="minlength" class="form-control" formControlName="minlength">
                    </div>
                    <div class="col-md-4">
                      <label for="maxlength" class="form-label">Max Length:</label>
                      <input id="maxlength" class="form-control" formControlName="maxlength">
                    </div>
                    <div class="col-md-4">
                      <label for="patterntype" class="form-label">Pattern Type:</label>
                      <input id="patterntype" class="form-control" formControlName="patterntype">
                    </div>
                    <div class="col-md-4">
                      <label for="minnumber" class="form-label">Min Number:</label>
                      <input id="minnumber" class="form-control" formControlName="minnumber">
                    </div>
                    <div class="col-md-4">
                      <label for="maxnumber" class="form-label">Max Number:</label>
                      <input id="maxnumber" class="form-control" formControlName="maxnumber">
                    </div>
                    <div class="col-md-4">
                      <label for="isunique" class="form-label">Is Unique:</label>
                      <input id="isunique" type="checkbox" class="form-check-input" formControlName="isunique">
                    </div>
                    <div class="col-md-4">
                      <label for="isactive" class="form-label">Is Active:</label>
                      <input id="isactive" type="checkbox" class="form-check-input" formControlName="isactive">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Control Source Card -->
            <div class="col-12 mb-2">
              <div class="card content-card">
                <div class="card-header solid-section fw-bold d-flex align-items-center" style="cursor:pointer;">
                  <i class="fas fa-database me-2"></i> <span>Control Source</span>
                </div>
                <div class="card-body">
                  <div [formGroup]="ctrlSourceForm" class="row g-4">
                    <div class="col-md-4">
                      <label for="lookupid" class="form-label">Lookup ID:</label>
                      <input id="lookupid" class="form-control" formControlName="lookupid">
                    </div>
                    <div class="col-md-4">
                      <label for="lookupname" class="form-label">Lookup Name:</label>
                      <input id="lookupname" class="form-control" formControlName="lookupname">
                    </div>
                    <div class="col-md-4">
                      <label for="lookupdatasource" class="form-label">Lookup DataSource:</label>
                      <input id="lookupdatasource" class="form-control" formControlName="lookupdatasource">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
      <div *ngIf="loading" class="alert alert-info mt-3">Loading...</div>
      <div class="d-flex justify-content-end gap-3 mt-4">
        <button type="submit" class="btn btn-primary btn-lg px-4" [disabled]="loading">
          <i class="fas fa-save me-2"></i>Save
        </button>
        <button type="button" class="btn btn-secondary btn-lg px-4" (click)="goBackToList()">Cancel</button>
        <button type="reset" class="btn btn-outline-secondary btn-lg px-4">Reset Form</button>
      </div>
    </form>
  </div>
